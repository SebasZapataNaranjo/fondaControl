<div class="inventory-list-container">
  <h2>Inventario</h2>

  <form (ngSubmit)="guardar()">
    <select [(ngModel)]="form.codigoProducto" name="codigoProducto" required>
      <option value="" disabled selected>Producto</option>
      <option *ngFor="let p of productos" [value]="p.codigo">{{ p.nombreProducto }}</option>
    </select>

    <input type="number" [(ngModel)]="form.cantidad" name="cantidad" placeholder="Cantidad" required />

    <select [(ngModel)]="form.codigoIndicador" name="codigoIndicador" required>
      <option value="" disabled selected>Indicador</option>
      <option *ngFor="let i of indicadores" [value]="i.codigo">{{ i.nombre }}</option>
    </select>

    <button type="submit">{{ editando ? 'Actualizar' : 'Crear' }}</button>
    <button type="button" *ngIf="editando" (click)="cancelar()">Cancelar</button>
  </form>

  <table>
    <thead>
      <tr>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>Indicador</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let inv of inventarios">
        <td>{{ nombreProducto(inv.codigoProducto) }}</td>
        <td>{{ inv.cantidad }}</td>
        <td>{{ nombreIndicador(inv.codigoIndicador) }}</td>
        <td>
          <button (click)="editar(inv)">Editar</button>
          <button (click)="eliminar(inv.codigo!)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
