<div class="inventory-list-container">
  <h2>Inventario</h2>

  <form (ngSubmit)="guardar()">
    <label for="producto">Producto</label>
    <select
      id="producto"
      [(ngModel)]="form.codigoProducto"
      name="codigoProducto"
      required
    >
      <option value="" disabled selected>Selecciona Producto</option>
      <option *ngFor="let p of productos" [value]="p.codigo">{{ p.nombre }}</option>
    </select>

    <label for="cantidad">Cantidad</label>
    <input
      id="cantidad"
      type="number"
      [(ngModel)]="form.cantidad"
      name="cantidad"
      min="1"
      placeholder="Cantidad"
      required
    />

    <label for="indicador">Indicador</label>
    <select
      id="indicador"
      [(ngModel)]="form.codigoIndicador"
      name="codigoIndicador"
      required
    >
      <option value="" disabled selected>Selecciona Indicador</option>
      <option *ngFor="let i of indicadores" [value]="i.codigo">{{ i.nombre }}</option>
    </select>

    <button type="submit" class="btn-primary">
      {{ editando ? 'Actualizar' : 'Crear' }}
    </button>
    <button type="button" *ngIf="editando" (click)="cancelar()">Cancelar</button>
  </form>

  <table>
    <thead>
      <tr>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>Indicador</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let inv of inventarios">
        <td>{{ inv.producto }}</td>
        <td>{{ inv.cantidad }}</td>
        <td>{{ inv.codigoIndicador }}</td>
        <td>
          <button (click)="editar(inv)">Editar</button>
          <button (click)="eliminar(inv.codigo!)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
